<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Suri Cosméticos</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #ffe6f0;
    margin: 0;
    padding: 0;
  }
  header {
    background: #ff4d6d;
    color: white;
    padding: 15px;
    text-align: center;
  }
  nav {
    display: flex;
    justify-content: space-around;
    background: #ccc;
  }
  nav button {
    padding: 10px 20px;
    border: none;
    background: #ccc;
    cursor: pointer;
    font-weight: bold;
  }
  nav button.active {
    background: #ff4d6d;
    color: white;
  }
  section {
    display: none;
    padding: 20px;
  }
  section.active {
    display: block;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  table, th, td {
    border: 1px solid #999;
  }
  th, td {
    padding: 8px;
    text-align: left;
  }
  input, select {
    padding: 5px;
    margin: 5px 0;
    width: 100%;
    box-sizing: border-box;
  }
  button.action-btn {
    margin: 2px;
    padding: 5px 10px;
    cursor: pointer;
  }
  .btn-alterar {
    background-color: #ffa500;
    color: white;
  }
  .btn-excluir {
    background-color: #ff0000;
    color: white;
  }
</style>
</head>
<body>
<header>
  <h1>Suri Cosméticos</h1>
</header>

<nav>
  <button class="tab-btn active" data-tab="produtos">Produtos</button>
  <button class="tab-btn" data-tab="clientes">Clientes</button>
  <button class="tab-btn" data-tab="entrada">Entrada</button>
  <button class="tab-btn" data-tab="vendas">Vendas</button>
</nav>

<section id="produtos" class="active">
  <h2>Produtos</h2>
  <input type="text" id="produto-nome" placeholder="Nome do Produto">
  <input type="number" id="produto-preco" placeholder="Preço">
  <button onclick="adicionarProduto()">Adicionar Produto</button>
  <table id="produtos-tabela">
    <thead>
      <tr>
        <th>Produto</th>
        <th>Preço</th>
        <th>Saldo</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<section id="clientes">
  <h2>Clientes</h2>
  <input type="text" id="cliente-nome" placeholder="Nome do Cliente">
  <button onclick="adicionarCliente()">Adicionar Cliente</button>
  <table id="clientes-tabela">
    <thead>
      <tr>
        <th>Cliente</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<section id="entrada">
  <h2>Entrada de Produtos</h2>
  <select id="entrada-produto"></select>
  <input type="number" id="entrada-quantidade" placeholder="Quantidade">
  <input type="text" id="entrada-nota" placeholder="Nota Fiscal">
  <button onclick="adicionarEntrada()">Adicionar Entrada</button>
  <table id="entrada-tabela">
    <thead>
      <tr>
        <th>Produto</th>
        <th>Quantidade</th>
        <th>Nota Fiscal</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<section id="vendas">
  <h2>Vendas</h2>
  <select id="venda-produto"></select>
  <select id="venda-cliente"></select>
  <input type="number" id="venda-quantidade" placeholder="Quantidade">
  <input type="number" id="venda-valor" placeholder="Valor Unitário">
  <button onclick="adicionarVenda()">Registrar Venda</button>
  <table id="vendas-tabela">
    <thead>
      <tr>
        <th>Produto</th>
        <th>Cliente</th>
        <th>Quantidade</th>
        <th>Valor Total</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<script>
  const tabs = document.querySelectorAll('.tab-btn');
  const sections = document.querySelectorAll('section');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      const target = tab.getAttribute('data-tab');
      sections.forEach(sec => sec.classList.remove('active'));
      document.getElementById(target).classList.add('active');
      atualizarSelects();
    });
  });

  let produtos = [];
  let clientes = [];
  let entradas = [];
  let vendas = [];

  function criarBotaoAcao(texto, classe, callback) {
    const btn = document.createElement('button');
    btn.textContent = texto;
    btn.className = `action-btn ${classe}`;
    btn.onclick = callback;
    return btn;
  }

  // Produtos
  function adicionarProduto() {
    const nome = document.getElementById('produto-nome').value.trim();
    const preco = parseFloat(document.getElementById('produto-preco').value);
    if (!nome || isNaN(preco)) return alert('Preencha nome e preço');
    produtos.push({ nome, preco, saldo: 0 });
    document.getElementById('produto-nome').value = '';
    document.getElementById('produto-preco').value = '';
    atualizarProdutos();
    atualizarSelects();
  }

  function atualizarProdutos() {
    const tbody = document.querySelector('#produtos-tabela tbody');
    tbody.innerHTML = '';
    produtos.forEach((p, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${p.nome}</td><td>${p.preco.toFixed(2)}</td><td>${p.saldo}</td>`;
      const tdAcoes = document.createElement('td');
      tdAcoes.appendChild(criarBotaoAcao('Alterar', 'btn-alterar', () => alterarProduto(i)));
      tdAcoes.appendChild(criarBotaoAcao('Excluir', 'btn-excluir', () => excluirProduto(i)));
      tr.appendChild(tdAcoes);
      tbody.appendChild(tr);
    });
  }

  function alterarProduto(index) {
    const senha = prompt('Digite a senha para alterar:');
    if (senha !== '1234') return alert('Senha incorreta');
    const nome = prompt('Novo nome', produtos[index].nome);
    const preco = parseFloat(prompt('Novo preço', produtos[index].preco));
    if (!nome || isNaN(preco)) return;
    produtos[index].nome = nome;
    produtos[index].preco = preco;
    atualizarProdutos();
    atualizarSelects();
  }

  function excluirProduto(index) {
    const senha = prompt('Digite a senha para excluir:');
    if (senha !== '1234') return alert('Senha incorreta');
    produtos.splice(index, 1);
    atualizarProdutos();
    atualizarSelects();
  }

  // Clientes
  function adicionarCliente() {
    const nome = document.getElementById('cliente-nome').value.trim();
    if (!nome) return;
    clientes.push({ nome });
    document.getElementById('cliente-nome').value = '';
    atualizarClientes();
  }

  function atualizarClientes() {
    const tbody = document.querySelector('#clientes-tabela tbody');
    tbody.innerHTML = '';
    clientes.forEach((c, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${c.nome}</td>`;
      const tdAcoes = document.createElement('td');
      tdAcoes.appendChild(criarBotaoAcao('Alterar', 'btn-alterar', () => alterarCliente(i)));
      tdAcoes.appendChild(criarBotaoAcao('Excluir', 'btn-excluir', () => excluirCliente(i)));
      tr.appendChild(tdAcoes);
      tbody.appendChild(tr);
    });
    atualizarSelects();
  }

  function alterarCliente(index) {
    const senha = prompt('Digite a senha para alterar:');
    if (senha !== '1234') return alert('Senha incorreta');
    const nome = prompt('Novo nome', clientes[index].nome);
    if (!nome) return;
    clientes[index].nome = nome;
    atualizarClientes();
    atualizarSelects();
  }

  function excluirCliente(index) {
    const senha = prompt('Digite a senha para excluir:');
    if (senha !== '1234') return alert('Senha incorreta');
    clientes.splice(index, 1);
    atualizarClientes();
    atualizarSelects();
  }

  // Entradas
  function adicionarEntrada() {
    const produtoIndex = document.getElementById('entrada-produto').value;
    const quantidade = parseInt(document.getElementById('entrada-quantidade').value);
    const nota = document.getElementById('entrada-nota').value.trim();
    if (produtoIndex === '' || isNaN(quantidade) || !nota) return alert('Preencha todos os campos');
    const produto = produtos[produtoIndex];
    produto.saldo += quantidade;
    entradas.push({ produto: produto.nome, quantidade, nota });
    document.getElementById('entrada-quantidade').value = '';
    document.getElementById('entrada-nota').value = '';
    atualizarEntradas();
    atualizarProdutos();
  }

  function atualizarEntradas() {
    const tbody = document.querySelector('#entrada-tabela tbody');
    tbody.innerHTML = '';
    entradas.forEach((e, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${e.produto}</td><td>${e.quantidade}</td><td>${e.nota}</td>`;
      const tdAcoes = document.createElement('td');
      tdAcoes.appendChild(criarBotaoAcao('Alterar', 'btn-alterar', () => alterarEntrada(i)));
      tdAcoes.appendChild(criarBotaoAcao('Excluir', 'btn-excluir', () => excluirEntrada(i)));
      tr.appendChild(tdAcoes);
      tbody.appendChild(tr);
    });
  }

  function alterarEntrada(index) {
    const senha = prompt('Digite a senha para alterar:');
    if (senha !== '1234') return alert('Senha incorreta');
    const quantidade = parseInt(prompt('Nova quantidade', entradas[index].quantidade));
    const nota = prompt('Nova nota fiscal', entradas[index].nota);
    if (isNaN(quantidade) || !nota) return;
    const produto = produtos.find(p => p.nome === entradas[index].produto);
    produto.saldo -= entradas[index].quantidade;
    produto.saldo += quantidade;
    entradas[index].quantidade = quantidade;
    entradas[index].nota = nota;
    atualizarEntradas();
    atualizarProdutos();
  }

  function excluirEntrada(index) {
    const senha = prompt('Digite a senha para excluir:');
    if (senha !== '1234') return alert('Senha incorreta');
    const produto = produtos.find(p => p.nome === entradas[index].produto);
    produto.saldo -= entradas[index].quantidade;
    entradas.splice(index, 1);
    atualizarEntradas();
    atualizarProdutos();
  }

  // Vendas
  function adicionarVenda() {
    const produtoIndex = document.getElementById('venda-produto').value;
    const clienteIndex = document.getElementById('venda-cliente').value;
    const quantidade = parseInt(document.getElementById('venda-quantidade').value);
    const valor = parseFloat(document.getElementById('venda-valor').value);
    if (produtoIndex === '' || clienteIndex === '' || isNaN(quantidade) || isNaN(valor)) return alert('Preencha todos os campos');
    const produto = produtos[produtoIndex];
    if (quantidade > produto.saldo) return alert('Quantidade maior que o saldo disponível');
    produto.saldo -= quantidade;
    const cliente = clientes[clienteIndex];
    vendas.push({ produto: produto.nome, cliente: cliente.nome, quantidade, valorTotal: quantidade * valor });
    document.getElementById('venda-quantidade').value = '';
    document.getElementById('venda-valor').value = '';
    atualizarVendas();
    atualizarProdutos();
  }

  function atualizarVendas() {
    const tbody = document.querySelector('#vendas-tabela tbody');
    tbody.innerHTML = '';
    vendas.forEach((v, i) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${v.produto}</td><td>${v.cliente}</td><td>${v.quantidade}</td><td>${v.valorTotal.toFixed(2)}</td>`;
      const tdAcoes = document.createElement('td');
      tdAcoes.appendChild(criarBotaoAcao('Alterar', 'btn-alterar', () => alterarVenda(i)));
      tdAcoes.appendChild(criarBotaoAcao('Excluir', 'btn-excluir', () => excluirVenda(i)));
      tr.appendChild(tdAcoes);
      tbody.appendChild(tr);
    });
  }

  function alterarVenda(index) {
    const senha = prompt('Digite a senha para alterar:');
    if (senha !== '1234') return alert('Senha incorreta');
    const quantidade = parseInt(prompt('Nova quantidade', vendas[index].quantidade));
    const valor = parseFloat(prompt('Novo valor unitário', (vendas[index].valorTotal / vendas[index].quantidade).toFixed(2)));
    if (isNaN(quantidade) || isNaN(valor)) return;
    const produto = produtos.find(p => p.nome === vendas[index].produto);
    produto.saldo += vendas[index].quantidade - quantidade;
    vendas[index].quantidade = quantidade;
    vendas[index].valorTotal = quantidade * valor;
    atualizarVendas();
    atualizarProdutos();
  }

  function excluirVenda(index) {
    const senha = prompt('Digite a senha para excluir:');
    if (senha !== '1234') return alert('Senha incorreta');
    const produto = produtos.find(p => p.nome === vendas[index].produto);
    produto.saldo += vendas[index].quantidade;
    vendas.splice(index, 1);
    atualizarVendas();
    atualizarProdutos();
  }

  // Atualiza selects
  function atualizarSelects() {
    const entradaSelect = document.getElementById('entrada-produto');
    const vendaProdutoSelect = document.getElementById('venda-produto');
    const vendaClienteSelect = document.getElementById('venda-cliente');
    [entradaSelect, vendaProdutoSelect].forEach(select => {
      select.innerHTML = '';
      produtos.forEach((p, i) => {
        const opt = document.createElement('option');
        opt.value = i;
        opt.textContent = p.nome;
        select.appendChild(opt);
      });
    });
    vendaClienteSelect.innerHTML = '';
    clientes.forEach((c, i) => {
      const opt = document.createElement('option');
      opt.value = i;
      opt.textContent = c.nome;
      vendaClienteSelect.appendChild(opt);
    });
  }
</script>
</body>
</html>
